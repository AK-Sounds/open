/* ============================================================
   OPEN â€” v171_true_drift (CSS, 508-friendly)
   - Strong visible focus indicator
   - SR-only utility
   - Large hit targets (>=44px)
   - Reduced motion support
   - Hides Record/Export UI (hotkeys only)
   ============================================================ */

:root{
  --bg:#ffffff;
  --fg:#000000;
  --focus:#005fcc;
  --font:"Helvetica Neue", Helvetica, Arial, sans-serif;
}

*{ box-sizing:border-box; }

html, body{ height:100%; }

body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:var(--font);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* Layout */
main{
  width:100%;
  max-width:520px;
  margin:15vh auto 0 auto;
  padding:0 2rem 3rem 2rem;
}

/* ---------- Accessibility utilities ---------- */
.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* High-visibility focus ring */
a:focus-visible,
button:focus-visible,
select:focus-visible,
input:focus-visible{
  outline:3px solid var(--focus);
  outline-offset:3px;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  *{
    transition:none !important;
    animation:none !important;
    scroll-behavior:auto !important;
  }
}

/* ---------- View switching ----------
   If you keep hash popout behavior, JS toggles .popout
*/
#controls, #credits, #popoutTitle, .separator{ display:none; }
#launchOnly{ display:block; }

body.mobile-player #launchOnly,
body.popout #launchOnly{ display:none; }

body.mobile-player #controls,
body.popout #controls,
body.mobile-player #credits,
body.popout #credits,
body.mobile-player #popoutTitle,
body.popout #popoutTitle,
body.mobile-player .separator,
body.popout .separator{ display:block; }

/* ---------- Typography ---------- */
.title-style{
  font-family:inherit;
  font-weight:400;
  font-size:2rem;
  text-transform:uppercase;
  letter-spacing:0.3em;
  text-align:center;
  padding-left:0.3em; /* optical centering */
  margin:0 0 1.5rem 0;
  border-bottom:1px solid var(--fg);
  padding-bottom:1rem;
}

/* ---------- Forms ---------- */
.form-group{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:1rem;
  margin-bottom:1.5rem;
}

label{
  font-size:1rem;
  color:var(--fg);
  white-space:nowrap;
}

/* Inputs baseline */
input, select, button{
  font-family:inherit;
  -webkit-appearance:none;
  appearance:none;
  border-radius:0;
}

/* Select */
select{
  background:#fff;
  border:1px solid var(--fg);
  color:var(--fg);
  padding:10px 12px;
  font-size:1rem;
  min-width:140px;
  cursor:pointer;
}

/* Slider */
input[type="range"]{
  width:160px;
  height:2px;
  background:var(--fg);
  border:none;
  outline:none;
  padding:0;
  cursor:pointer;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:16px;
  height:16px;
  background:var(--fg);
  border:none;
  cursor:pointer;
  margin-top:-7px;
  box-shadow:0 0 0 8px rgba(0,0,0,0.01);
}

/* Buttons */
.form-actions{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
  margin-top:1.25rem;
}

#launchPlayer{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:100%;
  min-height:56px; /* >=44px */
  background:#fff;
  color:var(--fg);
  border:1px solid var(--fg);
  cursor:pointer;

  font-size:2rem;
  font-weight:400;
  letter-spacing:0.3em;
  text-transform:uppercase;

  padding:18px 20px;
  padding-left:calc(20px + 0.3em);
}
#launchPlayer:hover{ background:#f0f0f0; }

#playNow, #stop{
  min-height:48px; /* >=44px */
  font-size:0.9rem;
  text-transform:uppercase;
  letter-spacing:0.1em;
  padding:14px 0;
  cursor:pointer;
  border:1px solid var(--fg);
  transition:opacity 0.1s;
}

/* Ghost button logic:
   - .filled means active/selected
*/
button.filled{
  background:var(--fg) !important;
  color:var(--bg) !important;
  font-weight:700;
}
button:not(.filled){
  background:#fff !important;
  color:var(--fg) !important;
  font-weight:400;
}

button:hover{ opacity:0.85; }

/* Separator & footer */
.separator{
  margin:2.25rem 0 1.5rem 0;
  border:0;
  border-top:1px solid var(--fg);
}

#credits{
  text-align:left;
  font-size:0.75rem;
  line-height:1.5;
  text-transform:uppercase;
  letter-spacing:0.05em;
}

/* Hide Record/Export controls if present in HTML */
#record, #export, #recordStatus{
  display:none !important;
}